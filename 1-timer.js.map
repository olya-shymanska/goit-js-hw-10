{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["// icon: '<svg class=\"icon\" width=\"24\" height=\"24\"><use xlink:href=\"./img/symbol-defs.svg#icon-cross\"></use></svg>',\nimport flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst timer = {\n    startButton: document.querySelector('button'),\n    input: document.querySelector('#datetime-picker'),\n    userSelectedDate: null,\n    intervalId: null,\n    elements: {\n        days: document.querySelector('[data-days]'),\n        hours: document.querySelector('[data-hours]'),\n        minutes: document.querySelector('[data-minutes]'),\n        seconds: document.querySelector('[data-seconds]'),\n        },\n\n    init() {\n        this.startButton.disabled = true;\n        this.startButton.addEventListener('click', () => this.start());\n        flatpickr(\"#datetime-picker\", this.options);\n    },\n    \n    start() {\n        this.startButton.disabled = true;\n        this.input.disabled = true;\n        this.intervalId = setInterval(() => {\n            const diff = this.userSelectedDate - Date.now();\n            const timeComponents = this.convertMs(diff);\n\n            if (diff <= 0) {\n                this.stop();\n\n                return;\n            }\n\n            this.elements.days.textContent = this.pad(timeComponents.days);\n            this.elements.hours.textContent = this.pad(timeComponents.hours);\n            this.elements.minutes.textContent = this.pad(timeComponents.minutes);\n            this.elements.seconds.textContent = this.pad(timeComponents.seconds);\n        }, 1000);\n    },\n    \n    stop() {\n        this.startButton.disabled = false;\n        this.input.disabled = false;\n        clearInterval(this.intervalId);\n    },\n    \nconvertMs(diff) {\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  const days = Math.floor(diff / day);\n  \n  const hours = Math.floor((diff % day) / hour);\n  \n  const minutes = Math.floor(((diff % day) % hour) / minute);\n  \n  const seconds = Math.floor((((diff % day) % hour) % minute) / second);\n\n    return { days, hours, minutes, seconds };\n    },\n\n     options: {\n        enableTime: true,\n        time_24hr: true,\n        defaultDate: new Date(),\n         minuteIncrement: 1,\n        \n        onClose(selectedDates) {\n            if (selectedDates[0] <= new Date()) {\n                iziToast.show({\n                    // iconUrl: './src/img/icon-cross.svg#icon-cross', // Use a separate SVG file\n                    title: '',\n                    backgroundColor: 'red',\n                    messageColor: 'white',\n                    position: 'topRight',\n                    message: `<div id=\"message\"><svg class=\"icon\" width=\"24\" height=\"24\" style=\"margin-right: 10px\"><use xlink:href=\"./img/symbol-defs.svg#icon-cross\"></use></svg> Please choose a date in the future</div>`\n});\n                timer.startButton.disabled = true;\n                timer.userSelectedDate = null;\n            } else {\n                timer.userSelectedDate = selectedDates[0];\n                timer.startButton.disabled = false;\n            };\n        },\n    },\n    \n    pad(value) {\n        return String(value).padStart(2, '0');\n    },\n};\n\ntimer.init();"],"names":["timer","flatpickr","diff","timeComponents","days","hours","minutes","seconds","selectedDates","iziToast","value"],"mappings":"+IAMA,MAAMA,EAAQ,CACV,YAAa,SAAS,cAAc,QAAQ,EAC5C,MAAO,SAAS,cAAc,kBAAkB,EAChD,iBAAkB,KAClB,WAAY,KACZ,SAAU,CACN,KAAM,SAAS,cAAc,aAAa,EAC1C,MAAO,SAAS,cAAc,cAAc,EAC5C,QAAS,SAAS,cAAc,gBAAgB,EAChD,QAAS,SAAS,cAAc,gBAAgB,CAC/C,EAEL,MAAO,CACH,KAAK,YAAY,SAAW,GAC5B,KAAK,YAAY,iBAAiB,QAAS,IAAM,KAAK,MAAK,CAAE,EAC7DC,EAAU,mBAAoB,KAAK,OAAO,CAC7C,EAED,OAAQ,CACJ,KAAK,YAAY,SAAW,GAC5B,KAAK,MAAM,SAAW,GACtB,KAAK,WAAa,YAAY,IAAM,CAChC,MAAMC,EAAO,KAAK,iBAAmB,KAAK,IAAG,EACvCC,EAAiB,KAAK,UAAUD,CAAI,EAE1C,GAAIA,GAAQ,EAAG,CACX,KAAK,KAAI,EAET,MACH,CAED,KAAK,SAAS,KAAK,YAAc,KAAK,IAAIC,EAAe,IAAI,EAC7D,KAAK,SAAS,MAAM,YAAc,KAAK,IAAIA,EAAe,KAAK,EAC/D,KAAK,SAAS,QAAQ,YAAc,KAAK,IAAIA,EAAe,OAAO,EACnE,KAAK,SAAS,QAAQ,YAAc,KAAK,IAAIA,EAAe,OAAO,CACtE,EAAE,GAAI,CACV,EAED,MAAO,CACH,KAAK,YAAY,SAAW,GAC5B,KAAK,MAAM,SAAW,GACtB,cAAc,KAAK,UAAU,CAChC,EAEL,UAAUD,EAAM,CAMd,MAAME,EAAO,KAAK,MAAMF,EAAO,KAAG,EAE5BG,EAAQ,KAAK,MAAOH,EAAO,MAAO,IAAI,EAEtCI,EAAU,KAAK,MAAQJ,EAAO,MAAO,KAAQ,GAAM,EAEnDK,EAAU,KAAK,MAASL,EAAO,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAE,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACrC,EAEA,QAAS,CACN,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KAChB,gBAAiB,EAElB,QAAQC,EAAe,CACfA,EAAc,CAAC,GAAK,IAAI,MACxBC,EAAS,KAAK,CAEV,MAAO,GACP,gBAAiB,MACjB,aAAc,QACd,SAAU,WACV,QAAS,gMAC7B,CAAC,EACeT,EAAM,YAAY,SAAW,GAC7BA,EAAM,iBAAmB,OAEzBA,EAAM,iBAAmBQ,EAAc,CAAC,EACxCR,EAAM,YAAY,SAAW,GAEpC,CACJ,EAED,IAAIU,EAAO,CACP,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACvC,CACL,EAEAV,EAAM,KAAM"}